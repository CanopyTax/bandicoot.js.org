
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Atomic Blocks Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../components/rich-text-editor.html" />
    
    
    <link rel="prev" href="use-link.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Bandicoot Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Walkthrough</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthrough/getting-started.html">
            
                <a href="../walkthrough/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthrough/bold-italic-underline.html">
            
                <a href="../walkthrough/bold-italic-underline.html">
            
                    
                    Bold, Italic, and Underline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    Changing font size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../walkthrough/headers.html">
            
                <a href="../walkthrough/headers.html">
            
                    
                    H1, H2, H3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    Inserting images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    Inserting links
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.7" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    Atomic Blocks
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Components</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../components/rich-text-editor.html">
            
                <a href="../components/rich-text-editor.html">
            
                    
                    RichTextEditor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../components/rich-text-container.html">
            
                <a href="../components/rich-text-container.html">
            
                    
                    RichTextContainer
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hooks</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="use-document-exec-command.html">
            
                <a href="use-document-exec-command.html">
            
                    
                    useDocumentExecCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="use-document-query-command-state.html">
            
                <a href="use-document-query-command-state.html">
            
                    
                    useDocumentQueryCommandState
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    useFontSize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    useImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    useLink
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.6" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    useContentEditableFalse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="use-text-as-image.html">
            
                <a href="use-text-as-image.html">
            
                    
                    useTextAsImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="use-element-deletion-detection.html">
            
                <a href="use-element-deletion-detection.html">
            
                    
                    useElementDeletionDetection
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Context</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../context/rich-text-context.html">
            
                <a href="../context/rich-text-context.html">
            
                    
                    RichTextContext
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../concepts/control-button.html">
            
                <a href="../concepts/control-button.html">
            
                    
                    Control Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../concepts/uncontrolled-editor.html">
            
                <a href="../concepts/uncontrolled-editor.html">
            
                    
                    Uncontrolled editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../concepts/content-editable.html">
            
                <a href="../concepts/content-editable.html">
            
                    
                    Content Editable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../concepts/selection.html">
            
                <a href="../concepts/selection.html">
            
                    
                    Selection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../concepts/range.html">
            
                <a href="../concepts/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../concepts/undo-redo.html">
            
                <a href="../concepts/undo-redo.html">
            
                    
                    Undo / Redo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../concepts/pasting.html">
            
                <a href="../concepts/pasting.html">
            
                    
                    Pasting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../concepts/serialization.html">
            
                <a href="../concepts/serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="../concepts/sanitization.html">
            
                <a href="../concepts/sanitization.html">
            
                    
                    Sanitization
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Atomic Blocks</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="usecontenteditablefalse">useContentEditableFalse</h1>
<p>The <code>useContentEditableFalse</code> hook allows you to insert text or html that will <strong>not be modifiable by the user</strong>.
In rich text editing, this functionality is sometimes also called &quot;atomic elements&quot; or &quot;atomic blocks&quot;.</p>
<p>To accomplish this, <code>useContentEditableFalse</code> creates a span inside of the rich text editor: <code>&lt;span contenteditable=&quot;false&quot;&gt;</code>.
This indicates to the browser that the span and everything inside of it should be treated as a single element that cannot be modified.
It also means that the browser will delete the entire span and its contents at once with a single Backspace or Delete keypress.</p>
<h2 id="basic-example">Basic Example</h2>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {useContentEditableFalse} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AtomicElement</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="hljs-keyword">const</span> {insertContentEditableFalseElement} = useContentEditableFalse()

    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{insertBandicoot}</span>&gt;</span>
        Insert a bandicoot
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
    )
  )

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bandicoot</span>(<span class="hljs-params"></span>) </span>{
    insertContentEditableFalseElement(<span class="hljs-string">`Here&apos;s Bandicoot that cannot be edited`</span>)
  }
}
</code></pre>
<h2 id="limitations">Limitations</h2>
<p><code>useContentEditableFalse</code> works in all of bandicoot&apos;s supported browsers, but there are nuances to how the browsers handle
inserting new lines right before and right after the content-editable-false element. For example, you can sometimes get
into a situation where the browser will insert two lines instead of one when you press the Enter key. Or that you can&apos;t get your
cursor to be at the beginning of a line of content-editable-false text because the browser thinks it is not editable at all.</p>
<p>Bandicoot attempts to make the experience consistent across browsers and natural for the user, but is not perfect at it. For example,
bandicoot inserts an empty <code>&lt;span /&gt;</code> right before and right after the content-editable-false element to try to ensure that the browser
always allows the user to insert normal rich text content around the content-editable-false element. However, this does not solve all cases
when new lines are added and the content-editable-false-element is separated from its sibling spans.</p>
<h2 id="alternatives">Alternatives</h2>
<p>If what you need is to insert some unmodifiable <strong>text</strong> (instead of arbitrary html), try out the <a href="../use-text-as-image/README.md">useTextAsImage hook</a>,
which solves some of the limitations of <code>useContentEditableFalse</code> (while introducing a few limitations of its own).</p>
<h2 id="advanced-example">Advanced Example</h2>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useContentEditableFalse} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AtomicElement</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [unmodifiableText, setUnmodifiableText] = useState(<span class="hljs-string">&apos;&apos;</span>)
  <span class="hljs-keyword">const</span> {insertContentEditableFalseElement} = useContentEditableFalse({processContentEditableElement})

  <span class="hljs-keyword">return</span> (
    &lt;&gt;
      &lt;input value={unmodifiableText} onChange={() =&gt; setUnmodifiableText(evt.target.value)} placeholder=&quot;Text to insert&quot; /&gt;
      &lt;button onClick={() =&gt; insertContentEditableFalseElement(unmodifiableText)}&gt;
        Insert text
      &lt;/button&gt;
    &lt;/&gt;
  )

  function processContentEditableElement(element) {
    // The element is a dom element that is unmodifiable
    element.style.fontWeight = &apos;bold&apos;
    element.style.color = &apos;blue&apos;
  }
}
</code></pre>
<h2 id="api">API</h2>
<pre><code>const {insertContentEditableFalseElement} = useContentEditableFalse({processContentEditableElement})
</code></pre><h3 id="arguments">Arguments</h3>
<p><code>useContentEditableFalse</code> can be called with no arguments or with an object with the following properties:</p>
<ul>
<li><code>processContentEditableElement</code>: A function that will be called with each unmodifiable dom element in the rich text editor. This can be used
to set up click listeners, change the style, etc. The function will be called for unmodifiable elements in the initialHTML, calls to setHTML, and also for
every unmodifiable element that is inserted via <code>useContentEditableFalse()</code>. Defaults to a no-op function.</li>
</ul>
<h3 id="return-value">Return value</h3>
<p><code>useContentEditableFalse</code> returns an object with the following properties:</p>
<ul>
<li><code>insertContentEditableFalseElement</code>: A function that will insert unmodifiable html into the rich text editor. This function must be called
with one argument, a string of html.</li>
</ul>
<h2 id="notes">Notes</h2>
<ul>
<li><code>useContentEditableFalse</code> uses <a href="use-document-exec-command.html"><code>useDocumentExecCommand</code></a> underneath the hood to call <code>document.execCommand()</code>.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="use-link.html" class="navigation navigation-prev " aria-label="Previous page: Inserting links">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../components/rich-text-editor.html" class="navigation navigation-next " aria-label="Next page: RichTextEditor">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Atomic Blocks","level":"2.7","depth":1,"next":{"title":"RichTextEditor","level":"3.1","depth":1,"path":"components/rich-text-editor.md","ref":"components/rich-text-editor.md","articles":[]},"previous":{"title":"Inserting links","level":"2.6","depth":1,"path":"hooks/use-link.md","ref":"hooks/use-link.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","github","ga"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/CanopyTax/bandicoot"},"ga":{"configuration":"auto","token":"UA-133316058-1"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"hooks/use-content-editable-false.md","mtime":"2019-11-02T22:34:27.139Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-02T22:35:20.952Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

