
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>useElementDeletionDetection Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../context/rich-text-context.html" />
    
    
    <link rel="prev" href="use-text-as-image.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Bandicoot Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Walkthrough</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthrough/getting-started.html">
            
                <a href="../walkthrough/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthrough/bold-italic-underline.html">
            
                <a href="../walkthrough/bold-italic-underline.html">
            
                    
                    Bold, Italic, and Underline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    Changing font size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../walkthrough/headers.html">
            
                <a href="../walkthrough/headers.html">
            
                    
                    H1, H2, H3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    Inserting images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    Inserting links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    Atomic Blocks
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Components</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../components/rich-text-editor.html">
            
                <a href="../components/rich-text-editor.html">
            
                    
                    RichTextEditor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../components/rich-text-container.html">
            
                <a href="../components/rich-text-container.html">
            
                    
                    RichTextContainer
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hooks</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="use-document-exec-command.html">
            
                <a href="use-document-exec-command.html">
            
                    
                    useDocumentExecCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="use-document-query-command-state.html">
            
                <a href="use-document-query-command-state.html">
            
                    
                    useDocumentQueryCommandState
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    useFontSize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    useImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    useLink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    useContentEditableFalse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="use-text-as-image.html">
            
                <a href="use-text-as-image.html">
            
                    
                    useTextAsImage
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.8" data-path="use-element-deletion-detection.html">
            
                <a href="use-element-deletion-detection.html">
            
                    
                    useElementDeletionDetection
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Context</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../context/rich-text-context.html">
            
                <a href="../context/rich-text-context.html">
            
                    
                    RichTextContext
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../concepts/control-button.html">
            
                <a href="../concepts/control-button.html">
            
                    
                    Control Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../concepts/uncontrolled-editor.html">
            
                <a href="../concepts/uncontrolled-editor.html">
            
                    
                    Uncontrolled editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../concepts/content-editable.html">
            
                <a href="../concepts/content-editable.html">
            
                    
                    Content Editable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../concepts/selection.html">
            
                <a href="../concepts/selection.html">
            
                    
                    Selection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../concepts/range.html">
            
                <a href="../concepts/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../concepts/undo-redo.html">
            
                <a href="../concepts/undo-redo.html">
            
                    
                    Undo / Redo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../concepts/pasting.html">
            
                <a href="../concepts/pasting.html">
            
                    
                    Pasting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../concepts/serialization.html">
            
                <a href="../concepts/serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="../concepts/sanitization.html">
            
                <a href="../concepts/sanitization.html">
            
                    
                    Sanitization
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >useElementDeletionDetection</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="useelementdeletiondetection">useElementDeletionDetection</h1>
<p>If you wish to be notified when a rich text dom element is deleted, you can do so with the <code>useElementDeletionDetection</code>. This can be helpful
if you have added interactivity to rich text elements such as links, images, or other rich text elements that should be cleaned up once
the rich text element is deleted from the editor.</p>
<h2 id="example">Example</h2>
<p>In this example, we&apos;ll show a popup when you click on a link in the rich text editor and will use the <code>useElementDeletionDetection</code> hook
to hide the popup if the link gets removed while the popup is open.</p>
<pre><code class="lang-js"><span class="hljs-keyword">import</span> React, {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {useLink, useElementDeletionDetection} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LinkButton</span>(<span class="hljs-params">props</span>) </span>{
  <span class="hljs-keyword">const</span> [anchorElementForPopup, setAnchorElementForPopup] = useState(<span class="hljs-literal">false</span>)
  useLink({processAnchorElement})
  useElementDeletionDetection(anchorElementForPopup, closePopup)

  <span class="hljs-keyword">return</span> showPopup &amp;&amp; (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;popup&quot;</span>&gt;</span>
      A popup for the link
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processAnchorElement</span>(<span class="hljs-params">anchorElement</span>) </span>{
    anchorElement.addEventListener(<span class="hljs-string">&apos;click&apos;</span>, () =&gt; {
      setAnchorElementForPopup(anchorElement)
    })
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closePopup</span>(<span class="hljs-params"></span>) </span>{
    setAnchorElementForPopup(<span class="hljs-literal">null</span>)
  }
}
</code></pre>
<h2 id="api">API</h2>
<pre><code class="lang-js">useElementDeletionDetection(domElement, callback)
</code></pre>
<h3 id="arguments">Arguments</h3>
<ul>
<li><code>domElement</code>: A domElement that bandicoot will check to see if it has been removed from the dom. If you pass in a falsy value such as null, <code>useElementDeletionDetection</code> will do nothing.</li>
<li><code>callback</code>: A function that will be called exactly once when the dom element is removed from the DOM (and rich text editor).</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="use-text-as-image.html" class="navigation navigation-prev " aria-label="Previous page: useTextAsImage">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../context/rich-text-context.html" class="navigation navigation-next " aria-label="Next page: RichTextContext">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"useElementDeletionDetection","level":"4.8","depth":1,"next":{"title":"RichTextContext","level":"5.1","depth":1,"path":"context/rich-text-context.md","ref":"context/rich-text-context.md","articles":[]},"previous":{"title":"useTextAsImage","level":"4.7","depth":1,"path":"hooks/use-text-as-image.md","ref":"hooks/use-text-as-image.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","github","ga"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/CanopyTax/bandicoot"},"ga":{"configuration":"auto","token":"UA-133316058-1"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"hooks/use-element-deletion-detection.md","mtime":"2019-04-03T18:26:45.751Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-04-03T18:27:33.426Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

