
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Inserting links Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="use-content-editable-false.html" />
    
    
    <link rel="prev" href="use-image.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Bandicoot Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Walkthrough</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthrough/getting-started.html">
            
                <a href="../walkthrough/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthrough/bold-italic-underline.html">
            
                <a href="../walkthrough/bold-italic-underline.html">
            
                    
                    Bold, Italic, and Underline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    Changing font size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../walkthrough/headers.html">
            
                <a href="../walkthrough/headers.html">
            
                    
                    H1, H2, H3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    Inserting images
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.6" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    Inserting links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    Atomic Blocks
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Components</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../components/rich-text-editor.html">
            
                <a href="../components/rich-text-editor.html">
            
                    
                    RichTextEditor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../components/rich-text-container.html">
            
                <a href="../components/rich-text-container.html">
            
                    
                    RichTextContainer
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hooks</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="use-document-exec-command.html">
            
                <a href="use-document-exec-command.html">
            
                    
                    useDocumentExecCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="use-document-query-command-state.html">
            
                <a href="use-document-query-command-state.html">
            
                    
                    useDocumentQueryCommandState
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="use-font-size.html">
            
                <a href="use-font-size.html">
            
                    
                    useFontSize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="use-image.html">
            
                <a href="use-image.html">
            
                    
                    useImage
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.5" data-path="use-link.html">
            
                <a href="use-link.html">
            
                    
                    useLink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="use-content-editable-false.html">
            
                <a href="use-content-editable-false.html">
            
                    
                    useContentEditableFalse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="use-text-as-image.html">
            
                <a href="use-text-as-image.html">
            
                    
                    useTextAsImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="use-element-deletion-detection.html">
            
                <a href="use-element-deletion-detection.html">
            
                    
                    useElementDeletionDetection
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Context</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../context/rich-text-context.html">
            
                <a href="../context/rich-text-context.html">
            
                    
                    RichTextContext
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../concepts/control-button.html">
            
                <a href="../concepts/control-button.html">
            
                    
                    Control Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../concepts/uncontrolled-editor.html">
            
                <a href="../concepts/uncontrolled-editor.html">
            
                    
                    Uncontrolled editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../concepts/content-editable.html">
            
                <a href="../concepts/content-editable.html">
            
                    
                    Content Editable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../concepts/selection.html">
            
                <a href="../concepts/selection.html">
            
                    
                    Selection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../concepts/range.html">
            
                <a href="../concepts/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../concepts/undo-redo.html">
            
                <a href="../concepts/undo-redo.html">
            
                    
                    Undo / Redo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../concepts/pasting.html">
            
                <a href="../concepts/pasting.html">
            
                    
                    Pasting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../concepts/serialization.html">
            
                <a href="../concepts/serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="../concepts/sanitization.html">
            
                <a href="../concepts/sanitization.html">
            
                    
                    Sanitization
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Inserting links</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="uselink">useLink</h1>
<p>The <code>useLink</code> hook provides functionality for inserting, modifying, and removing links (<code>&lt;a&gt;</code> elements) in your rich text editor.</p>
<p>Inserting a link can be a done with a DOM one liner: <code>document.execCommand(&apos;createLink&apos;, null, &apos;https://bandicoot.js.org&apos;)</code>.
However, styling the link, modifying the link, removing the link, or selecting the entire link are much easier to do with some help
from <code>useLink</code>.</p>
<h2 id="basic-example">Basic Example</h2>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {useLink} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Link</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> {insertLink} = useLink()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> insertLink(&apos;https://bandicoot.js.org&apos;, &apos;Bandicoot Docs&apos;)}&gt;
        Insert link
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span>
  )
}
</span></code></pre>
<h2 id="advanced-example">Advanced Example</h2>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {useLink} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>
<span class="hljs-keyword">import</span> {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Link</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> [showingDialog, setShowingDialog] = useState(<span class="hljs-literal">false</span>)
  <span class="hljs-keyword">const</span> [linkLabel, setLinkLabel] = useState(<span class="hljs-string">&apos;&apos;</span>)
  <span class="hljs-keyword">const</span> [linkUrl, setLinkUrl] = useState(<span class="hljs-string">&apos;&apos;</span>)
  <span class="hljs-keyword">const</span> {insertLink, getTextFromBeforeBlur, selectEntireLink, unlink} = useLink({processAnchorElement})

  <span class="hljs-keyword">return</span> (
    &lt;&gt;
      &lt;button onClick={openDialog}&gt;
        Insert link
      &lt;/button&gt;
      &lt;dialog open={showingDialog}&gt;
        &lt;form onSubmit={handleSubmit}&gt;
          &lt;input value={linkLabel} placeholder=&quot;Label&quot; onChange={evt =&gt; setLinkLabel(evt.target.value)} /&gt;
          &lt;input value={linkUrl} placeholder=&quot;Label&quot; onChange={evt =&gt; setLinkUrl(evt.target.value)} /&gt;
          &lt;button type=&quot;submit&quot;&gt;Insert&lt;/button&gt;
          &lt;button type=&quot;button&quot; onClick={() =&gt; setShowingDialog(false)}&gt;Cancel&lt;/button&gt;
        &lt;/form&gt;
      &lt;/dialog&gt;
    &lt;/&gt;
  )

  function openDialog() {
    setLinkLabel(getTextFromBeforeBlur())
    setShowingDialog(true)
  }

  function handleSubmit() {
    insertLink(linkUrl, linkLabel)
    setLinkLabel(&apos;&apos;)
    setLinkUrl(&apos;&apos;)
    setShowingDialog(false)
  }

  function processAnchorElement(anchorElement) {
    anchorElement.addEventListener(&apos;click&apos;, () =&gt; {
      if (window.prompt(&apos;Are you sure that you want to remove this link?&apos;)) {
        selectEntireLink(anchorElement)
        unlink()
      }
    })
  }
}
</code></pre>
<h2 id="api">API</h2>
<pre><code class="lang-js"><span class="hljs-keyword">const</span> {insertLink, getTextFromBeforeBlur, selectEntireLink, unlink} = useLink({processAnchorElement})
</code></pre>
<h3 id="arguments">Arguments</h3>
<p>The <code>useLink</code> hook optionally takes in one object argument with the following properties:</p>
<ul>
<li><code>processAnchorElement</code> (optional): A function that will be called with each <code>&lt;a&gt;</code> dom element in the rich text editor. This can be used
to set up click listeners, change the style, etc. The function will be called for anchor elements in the initialHTML, calls to setHTML, and also for
every anchor element that is inserted via <code>useLink()</code>. Defaults to a no-op function.</li>
</ul>
<h3 id="return-value">Return value</h3>
<p>The <code>useLink</code> hook returns an object with the following properties:</p>
<ul>
<li><code>insertLink(url, label)</code>: A function that inserts a link into the rich text editor. This function requires two arguments: <code>url</code> and <code>label</code>.
Both arguments must be strings.</li>
<li><code>unlink()</code>: A function that will remove the link from the selected text in the rich text editor. This is often used in conjunction with
<code>selectEntireLink</code>.</li>
<li><code>selectEntireLink(anchorElement)</code>: A function that will select (highlight) the entire link in the rich text editor. This is useful for
making sure you unlink the entire link, instead of just portions of it. An anchor element must be passed to it.</li>
<li><code>getTextFromBeforeBlur()</code>: A function that will give you the most recently selected or highlighted text inside of the rich text editor.
This is useful for setting the default label for a link that the user is wanting to insert.</li>
</ul>
<h2 id="notes">Notes</h2>
<ul>
<li><code>useLink</code> uses <a href="use-document-exec-command.html"><code>useDocumentExecCommand</code></a> underneath the hood to call <code>document.execCommand()</code>.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="use-image.html" class="navigation navigation-prev " aria-label="Previous page: Inserting images">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="use-content-editable-false.html" class="navigation navigation-next " aria-label="Next page: Atomic Blocks">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Inserting links","level":"2.6","depth":1,"next":{"title":"Atomic Blocks","level":"2.7","depth":1,"path":"hooks/use-content-editable-false.md","ref":"hooks/use-content-editable-false.md","articles":[]},"previous":{"title":"Inserting images","level":"2.5","depth":1,"path":"hooks/use-image.md","ref":"hooks/use-image.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","github","ga"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/CanopyTax/bandicoot"},"ga":{"configuration":"auto","token":"UA-133316058-1"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"hooks/use-link.md","mtime":"2019-04-03T18:19:09.664Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-04-03T18:19:57.364Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

