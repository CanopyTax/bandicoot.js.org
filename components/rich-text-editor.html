
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>RichTextEditor Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="rich-text-container.html" />
    
    
    <link rel="prev" href="../hooks/use-content-editable-false.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Bandicoot Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Walkthrough</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthrough/getting-started.html">
            
                <a href="../walkthrough/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthrough/bold-italic-underline.html">
            
                <a href="../walkthrough/bold-italic-underline.html">
            
                    
                    Bold, Italic, and Underline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../hooks/use-font-size.html">
            
                <a href="../hooks/use-font-size.html">
            
                    
                    Changing font size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../walkthrough/headers.html">
            
                <a href="../walkthrough/headers.html">
            
                    
                    H1, H2, H3
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../hooks/use-image.html">
            
                <a href="../hooks/use-image.html">
            
                    
                    Inserting images
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../hooks/use-link.html">
            
                <a href="../hooks/use-link.html">
            
                    
                    Inserting links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../hooks/use-content-editable-false.html">
            
                <a href="../hooks/use-content-editable-false.html">
            
                    
                    Atomic Blocks
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Components</li>
        
        
    
        <li class="chapter active" data-level="3.1" data-path="rich-text-editor.html">
            
                <a href="rich-text-editor.html">
            
                    
                    RichTextEditor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="rich-text-container.html">
            
                <a href="rich-text-container.html">
            
                    
                    RichTextContainer
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hooks</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../hooks/use-document-exec-command.html">
            
                <a href="../hooks/use-document-exec-command.html">
            
                    
                    useDocumentExecCommand
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../hooks/use-document-query-command-state.html">
            
                <a href="../hooks/use-document-query-command-state.html">
            
                    
                    useDocumentQueryCommandState
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../hooks/use-font-size.html">
            
                <a href="../hooks/use-font-size.html">
            
                    
                    useFontSize
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../hooks/use-image.html">
            
                <a href="../hooks/use-image.html">
            
                    
                    useImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../hooks/use-link.html">
            
                <a href="../hooks/use-link.html">
            
                    
                    useLink
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../hooks/use-content-editable-false.html">
            
                <a href="../hooks/use-content-editable-false.html">
            
                    
                    useContentEditableFalse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../hooks/use-text-as-image.html">
            
                <a href="../hooks/use-text-as-image.html">
            
                    
                    useTextAsImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="../hooks/use-element-deletion-detection.html">
            
                <a href="../hooks/use-element-deletion-detection.html">
            
                    
                    useElementDeletionDetection
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Context</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../context/rich-text-context.html">
            
                <a href="../context/rich-text-context.html">
            
                    
                    RichTextContext
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../concepts/control-button.html">
            
                <a href="../concepts/control-button.html">
            
                    
                    Control Button
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../concepts/uncontrolled-editor.html">
            
                <a href="../concepts/uncontrolled-editor.html">
            
                    
                    Uncontrolled editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../concepts/content-editable.html">
            
                <a href="../concepts/content-editable.html">
            
                    
                    Content Editable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../concepts/selection.html">
            
                <a href="../concepts/selection.html">
            
                    
                    Selection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../concepts/range.html">
            
                <a href="../concepts/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../concepts/undo-redo.html">
            
                <a href="../concepts/undo-redo.html">
            
                    
                    Undo / Redo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="../concepts/pasting.html">
            
                <a href="../concepts/pasting.html">
            
                    
                    Pasting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../concepts/serialization.html">
            
                <a href="../concepts/serialization.html">
            
                    
                    Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.9" data-path="../concepts/sanitization.html">
            
                <a href="../concepts/sanitization.html">
            
                    
                    Sanitization
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >RichTextEditor</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="richtexteditor">RichTextEditor</h1>
<p>The RichTextEditor component is responsible for rendering a <a href="../concepts/content-editable.html">content editable</a> element.
Additionally it provides the following features:</p>
<ul>
<li>Allows you to set an initial value for the rich text</li>
<li>Allows you to forcibly update the html in your rich text editor</li>
<li>Notifies you when it&apos;s time to save your rich text</li>
<li>Fires events to your <a href="../concepts/control-button.html">control buttons</a> when the selection changes, the editor blurs,
and more. See the <a href="../context/rich-text-context.html">docs for RichTextContext</a> for more details.</li>
</ul>
<p>Note that the RichTextEditor must be rendered inside of a <a href="rich-text-container.html">RichTextContainer</a> component.
This is because RichTextContainer <a href="https://reactjs.org/docs/context.html#contextprovider" target="_blank">provides React context</a> that is
consumed by RichTextEditor.</p>
<h2 id="basic-example">Basic Example</h2>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {RichTextEditor, RichTextContainer} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyEditor</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RichTextContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">RichTextEditor</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">RichTextContainer</span>&gt;</span>
  )
}
</span></code></pre>
<h3 id="advanced-example">Advanced Example</h3>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> {useRef} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">import</span> {RichTextEditor, RichTextContainer} <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;bandicoot&apos;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">MyEditor</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> editorRef = useRef(<span class="hljs-literal">null</span>)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">RichTextContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{resetEditor}</span>&gt;</span>
        Reset editor
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{forceSetHTML}</span>&gt;</span>
        Force set html
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">RichTextEditor</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">{editorRef}</span>
        <span class="hljs-attr">initalHTML</span>=<span class="hljs-string">{props.htmlSavedInDatabase}</span>
        <span class="hljs-attr">save</span>=<span class="hljs-string">{save}</span>
        <span class="hljs-attr">unchangedInterval</span>=<span class="hljs-string">{3000}</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;my-editor&quot;</span>
        <span class="hljs-attr">sanitizeHTML</span>=<span class="hljs-string">{props.myOwnSanitizationFunction}</span>
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">RichTextContainer</span>&gt;</span>
  )

  function save(newHTML) {
    // Will be called on blur or after unchangedInterval
    fetch(&apos;/api-endpoint&apos;, {
      method: &apos;PATCH&apos;,
      body: JSON.stringify({
        richText: newHTML
      })
    })
  }

  function resetEditor() {
    editorRef.current.resetEditor()
  }

  function forceSetHTML() {
    editorRef.current.setHTML(`<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Some new html for the editor<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>`)
  }
}
</span></code></pre>
<h2 id="api">API</h2>
<h3 id="props">Props</h3>
<ul>
<li><code>initialHTML</code> (optional): A string of html that will be the editor&apos;s initial value. Defaults to empty string.</li>
<li><code>save</code> (optional): A function that will be called whenever the editor blurs or no changes are made for an <code>unchangedInterval</code>.
The <code>save</code> function will be called with one argument, <code>html</code>, that is a serialized html string. Defaults to no-op.</li>
<li><code>unchangedInterval</code> (optional): An integer number of milliseconds that will be waited before calling <code>save()</code>. Whenever
  the editor&apos;s value hasn&apos;t been saved and hasn&apos;t changed for <code>unchangedInterval</code> milliseconds, the <code>save()</code> function will be called.
  Defaults to <code>null</code>, which means that the <code>save()</code> function will only be called on blur.</li>
<li><code>className</code> (optional): A string className that will be applied to the <a href="../concepts/content-editable.html">content editable</a> element.</li>
<li><code>placeholder</code> (optional): A string placeholder that will be shown when the rich text editor is empty.</li>
<li><code>placeholderColor</code> (optional): A string css color for the placeholderText. Defaults to <code>#CFCFCF</code>.</li>
<li><code>pasteFn</code> (optional): A function that will be called whenever the user pastes to the editor. The function will be called with a string of text and
  returns a string that will be pasted. If you wish to prevent a paste entirely, return <code>false</code> from the pasteFn. Note that pasted HTMl is vulnerable
  to cross site scripting. See <a href="../concepts/pasting.html">pasting docs</a> for more details.</li>
<li><code>sanitizeHTML</code> (optional but <strong>HIGHLY RECOMMENDED</strong>): A function that will be called before Bandicoot inserts a received html string into the DOM or before Bandicoot sends the DOM content out as an html string after serialization. If no function is provided, Bandicoot will simply pass along an <em>unsanitized</em> html string. See <a href="../concepts/sanitization.html">sanitization docs</a> for more information.</li>
</ul>
<h3 id="ref">Ref</h3>
<p>In addition to passing props, you can control the RichTextEditor imperatively with a <a href="https://reactjs.org/docs/glossary.html#refs" target="_blank">React ref</a>.
The ref has the following properties:</p>
<ul>
<li><code>setHTML(html)</code>: A function that will forcibly set the editor to have the new <code>html</code> string as its value.</li>
<li><code>getHTML()</code>: A function that returns serialized HTML as a string. The <code>html</code> returned is the same as what is given to the <code>props.save</code> function.</li>
<li><code>resetEditor()</code>: A function that you can call to empty out the editor. This is equivalent to calling <code>editorRef.current.setHTML(&apos;&apos;)</code>.</li>
<li><code>focus()</code>: A function that you can call to forcibly focus the editor.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../hooks/use-content-editable-false.html" class="navigation navigation-prev " aria-label="Previous page: Atomic Blocks">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="rich-text-container.html" class="navigation navigation-next " aria-label="Next page: RichTextContainer">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"RichTextEditor","level":"3.1","depth":1,"next":{"title":"RichTextContainer","level":"3.2","depth":1,"path":"components/rich-text-container.md","ref":"components/rich-text-container.md","articles":[]},"previous":{"title":"Atomic Blocks","level":"2.7","depth":1,"path":"hooks/use-content-editable-false.md","ref":"hooks/use-content-editable-false.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","github","ga"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/CanopyTax/bandicoot"},"ga":{"configuration":"auto","token":"UA-133316058-1"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"components/rich-text-editor.md","mtime":"2019-04-03T20:43:59.734Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-04-03T20:44:47.864Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

